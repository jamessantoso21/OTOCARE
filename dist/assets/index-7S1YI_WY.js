const __vite__fileDeps=["assets/HomePage-DPPBnMg5.js","assets/vendor-react-D2XI2PP0.js","assets/Footer-BkaXL5t4.js","assets/vendor-firebase-CAApZDyK.js","assets/Footer-BnsvdSgx.css","assets/Button-2WV0Mlox.js","assets/Button-BYI0c1sU.css","assets/HomePage-Cd4cFfaN.css","assets/ProfilePage-swbqYHKQ.js","assets/ProfilePage-C43U_Hdt.css","assets/PaymentPage-DyuCKTjQ.js","assets/RepairShopBanner-CMkoPsas.js","assets/RepairShopBanner-B9NWN83X.css","assets/PaymentPage-Dy1T2ah1.css","assets/PaymentDetails-BVirzLcv.css","assets/RepairShops-D4t5kn4W.js","assets/RepairShops-CM2kM2Tv.css","assets/ShopServices-DMvq-CET.js","assets/ShopServices-xQkRlU-u.css","assets/Services-BEMJ0kPq.js","assets/Services-DED-uxbG.css","assets/ConfirmationPage-wlN7QwtV.js","assets/ConfirmationPage-D3YrBy_t.css","assets/Orders-DBdmql4D.js","assets/OrderCardContainer-BSvw3bUe.js","assets/OrderCardContainer-zyH8UKPA.css","assets/Orders-CKgjVrs_.css","assets/workshop-home-Bau8ZKXv.js","assets/workshop-home-BkWPE2Oe.css","assets/WorkshopFormPage-BDB24s11.js","assets/WorkshopFormPage-DCqzyyFt.css","assets/workshop-order-RcrfP8gi.js","assets/workshop-confirmation-5FhS5_bW.js","assets/workshop-confirmation-eOVMFLtV.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r,a as D,u as T,b,L as P,B as U,R as W,c as d,N as _,d as z}from"./vendor-react-D2XI2PP0.js";import{i as F,g as V,a as B,s as $,d as N,b as q,c as H,e as J}from"./vendor-firebase-CAApZDyK.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();var O={exports:{}},v={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G=r,K=Symbol.for("react.element"),M=Symbol.for("react.fragment"),Y=Object.prototype.hasOwnProperty,Q=G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X={key:!0,ref:!0,__self:!0,__source:!0};function k(a,s,n){var i,t={},o=null,l=null;n!==void 0&&(o=""+n),s.key!==void 0&&(o=""+s.key),s.ref!==void 0&&(l=s.ref);for(i in s)Y.call(s,i)&&!X.hasOwnProperty(i)&&(t[i]=s[i]);if(a&&a.defaultProps)for(i in s=a.defaultProps,s)t[i]===void 0&&(t[i]=s[i]);return{$$typeof:K,type:a,key:o,ref:l,props:t,_owner:Q.current}}v.Fragment=M;v.jsx=k;v.jsxs=k;O.exports=v;var e=O.exports,w={},R=D;w.createRoot=R.createRoot,w.hydrateRoot=R.hydrateRoot;const Z="modulepreload",ee=function(a){return"/"+a},S={},p=function(s,n,i){let t=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));t=Promise.all(n.map(u=>{if(u=ee(u),u in S)return;S[u]=!0;const x=u.endsWith(".css"),h=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=x?"stylesheet":Z,x||(m.as="script",m.crossOrigin=""),m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),x)return new Promise((j,f)=>{m.addEventListener("load",j),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}return t.then(()=>s()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},se=(a,s)=>{switch(s.type){case"LOGIN":return{currentUser:s.payload};case"LOGOUT":return{currentUser:null};default:return a}},C={currentUser:JSON.parse(localStorage.getItem("user"))||null},y=r.createContext(C),re=({children:a})=>{const[s,n]=r.useReducer(se,C);return r.useEffect(()=>{localStorage.setItem("user",JSON.stringify(s.currentUser))},[s.currentUser]),e.jsx(y.Provider,{value:{currentUser:s.currentUser,dispatch:n},children:a})},te=()=>{const{pathname:a}=T();return r.useEffect(()=>{window.scrollTo(0,0)},[a]),null},oe={apiKey:"AIzaSyB1LC5E9SeqOetS44JwSFM02Pj3uSxEdmM",authDomain:"otocare-b16fa.firebaseapp.com",projectId:"otocare-b16fa",storageBucket:"otocare-b16fa.appspot.com",messagingSenderId:"124104424279",appId:"1:124104424279:web:16aac8908ad77f83045c12"},ne=F(oe),L=V(ne),I=B();function ae(){const[a,s]=r.useState(!1),[n,i]=r.useState(""),[t,o]=r.useState(""),l=b(),{dispatch:u}=r.useContext(y),x=async h=>{h.preventDefault();try{const j=(await $(I,n,t)).user,f=N(L,"Users",j.uid),c=await q(f);c.exists()?c.data().Role==="Workshop"?l("/workshopHome"):l("/"):console.error("No user document found in Firestore for UID:",j.uid),u({type:"LOGIN",payload:j})}catch{s(!0)}};return e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"background"}),e.jsx("div",{className:"background-image"}),e.jsxs("div",{className:"login-wrapper",children:[e.jsx("div",{className:"login-wrapper-left",children:e.jsxs("div",{className:"left-side",children:[e.jsx("h1",{children:"Ola!"}),e.jsx("p",{children:"Since its inception in 2022, OTOCARE has consistently engaged with over 100,000 audiences annually, providing exceptional services that have amounted to an impressive 15,000 completions."})]})}),e.jsx("div",{className:"login-wrapper-right",children:e.jsx("div",{className:"right-side",children:e.jsxs("div",{className:"login-box",children:[e.jsx("h2",{children:"Login"}),e.jsxs("form",{onSubmit:x,children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",onChange:h=>i(h.target.value)}),e.jsx("label",{htmlFor:"pswd",children:"Password"}),e.jsx("input",{type:"password",id:"pswd",name:"pswd",onChange:h=>o(h.target.value)}),e.jsx("button",{type:"submit",children:"Login"})]}),e.jsxs("div",{className:"registerhere",children:["Don't have an account?",e.jsx(P,{to:"/register",className:"register-link",children:" Register"})]}),a&&e.jsx("span",{children:"Wrong email or password!"})]})})})]})]})}function ie(){const[a,s]=r.useState(!1),[n,i]=r.useState(""),[t,o]=r.useState(""),[l,u]=r.useState("");r.useState("");const x=b(),h=async c=>{if(c.preventDefault(),m(n)&&j(t)&&f(l))try{const E=(await H(I,t,l)).user,A={Role:"Customer",UserName:n,UserUID:E.uid};await J(N(L,"Users",E.uid),A),x("/login")}catch(g){console.error("Error during registration: ",g),s(!0)}else s(!0)},m=c=>c.length<6?(alert("Name must be at least 6 characters long."),!1):!0,j=c=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)?!0:(alert("Please enter a valid email address ending with .com"),!1),f=c=>c.length<8?(alert("Password must be at least 8 characters long."),!1):!0;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"background"}),e.jsx("div",{className:"background-image"}),e.jsxs("div",{className:"register-wrapper",children:[e.jsx("div",{className:"register-wrapper-left",children:e.jsxs("div",{className:"left-side",children:[e.jsx("h1",{children:"Ola!"}),e.jsx("p",{children:"Since its inception in 2022, OTOCARE has consistently engaged with over 100,000 audiences annually, providing exceptional services that have amounted to an impressive 15,000 completions."})]})}),e.jsx("div",{className:"register-wrapper-left",children:e.jsx("div",{className:"right-side",children:e.jsxs("div",{className:"register-box",children:[e.jsx("h2",{children:"Register"}),e.jsxs("form",{onSubmit:h,children:[e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{type:"name",id:"name",name:"name",placeholder:"Input Name",onChange:c=>i(c.target.value),autoComplete:"given-name"}),e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Input your email here",onChange:c=>o(c.target.value),autoComplete:"email"}),e.jsx("label",{htmlFor:"pswd",children:"Password"}),e.jsx("input",{type:"password",id:"pswd",name:"pswd",placeholder:"********",onChange:c=>u(c.target.value),autoComplete:"new-password"}),e.jsx("button",{type:"submit",children:"Register"})]}),e.jsxs("div",{className:"loginhere",children:["Already have an account?",e.jsx(P,{to:"/login",className:"login-link",children:"Login"})]})]})})})]})]})})}const le=r.lazy(()=>p(()=>import("./HomePage-DPPBnMg5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),ce=r.lazy(()=>p(()=>import("./ProfilePage-swbqYHKQ.js"),__vite__mapDeps([8,1,2,3,4,9]))),de=r.lazy(()=>p(()=>import("./PaymentPage-DyuCKTjQ.js"),__vite__mapDeps([10,1,2,3,4,11,12,13,14]))),ue=r.lazy(()=>p(()=>import("./RepairShops-D4t5kn4W.js"),__vite__mapDeps([15,1,2,3,4,16]))),me=r.lazy(()=>p(()=>import("./ShopServices-DMvq-CET.js"),__vite__mapDeps([17,1,2,3,4,11,12,18,6]))),pe=r.lazy(()=>p(()=>import("./Services-BEMJ0kPq.js"),__vite__mapDeps([19,1,2,3,4,5,6,20]))),he=r.lazy(()=>p(()=>import("./ConfirmationPage-wlN7QwtV.js"),__vite__mapDeps([21,1,2,3,4,5,6,22,14]))),xe=r.lazy(()=>p(()=>import("./Orders-DBdmql4D.js"),__vite__mapDeps([23,1,2,3,4,24,25,26]))),je=r.lazy(()=>p(()=>import("./workshop-home-Bau8ZKXv.js"),__vite__mapDeps([27,1,2,3,4,28]))),fe=r.lazy(()=>p(()=>import("./WorkshopFormPage-BDB24s11.js"),__vite__mapDeps([29,1,2,3,4,30]))),ge=r.lazy(()=>p(()=>import("./workshop-order-RcrfP8gi.js"),__vite__mapDeps([31,1,2,3,4,24,25,26]))),ve=r.lazy(()=>p(()=>import("./workshop-confirmation-5FhS5_bW.js"),__vite__mapDeps([32,1,2,3,4,5,6,33,14])));function _e(){const{currentUser:a}=r.useContext(y),s=({children:i,allowedRoles:t})=>{if(!a)return e.jsx(_,{to:"/login"});if(!t.includes(a.role)){if(a.role==="Customer")return e.jsx(_,{to:"/"});if(a.role==="Workshop")return e.jsx(_,{to:"/workshopHome"})}return i},n=()=>e.jsx("div",{className:"loading-spinner",children:"Loading..."});return e.jsxs(U,{children:[e.jsx(te,{}),e.jsxs(W,{children:[e.jsx(d,{path:"/login",element:e.jsx(ae,{})}),e.jsx(d,{path:"/register",element:e.jsx(ie,{})}),e.jsx(d,{path:"/",element:e.jsx(s,{allowedRoles:["Customer"],children:e.jsx(r.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(le,{})})})}),e.jsx(d,{path:"/profile",element:e.jsx(s,{allowedRoles:["Customer","Workshop"],children:e.jsx(r.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(ce,{})})})}),e.jsx(d,{path:"/payment/:searchID",element:e.jsx(s,{allowedRoles:["Customer"],children:e.jsx(r.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(de,{})})})}),e.jsx(d,{path:"/repairShops",element:e.jsx(s,{allowedRoles:["Customer"],children:e.jsx(r.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(ue,{})})})}),e.jsx(d,{path:"/shopServices/:searchID",element:e.jsx(s,{allowedRoles:["Customer"],children:e.jsx(r.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(me,{})})})}),e.jsx(d,{path:"/services",element:e.jsx(s,{allowedRoles:["Customer"],children:e.jsx(r.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(pe,{})})})}),e.jsx(d,{path:"/confirmation",element:e.jsx(s,{allowedRoles:["Customer"],children:e.jsx(r.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(he,{})})})}),e.jsx(d,{path:"/orders",element:e.jsx(s,{allowedRoles:["Customer"],children:e.jsx(r.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(xe,{})})})}),e.jsx(d,{path:"/workshopHome",element:e.jsx(s,{allowedRoles:["Workshop"],children:e.jsx(r.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(je,{})})})}),e.jsx(d,{path:"/workshopForm",element:e.jsx(s,{allowedRoles:["Workshop"],children:e.jsx(r.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(fe,{})})})}),e.jsx(d,{path:"/workshopOrder",element:e.jsx(s,{allowedRoles:["Workshop"],children:e.jsx(r.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(ge,{})})})}),e.jsx(d,{path:"/workshopConfirmation",element:e.jsx(s,{allowedRoles:["Workshop"],children:e.jsx(r.Suspense,{fallback:e.jsx(n,{}),children:e.jsx(ve,{})})})})]})]})}w.createRoot(document.getElementById("root")).render(e.jsx(z.StrictMode,{children:e.jsx(re,{children:e.jsx(_e,{})})}));export{y as A,I as a,L as d,e as j};
